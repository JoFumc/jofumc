<?php
//
// REQUIRED PARAMETERS:
// @param $login_form_referrer URL of original referrer.
// 
// OPTIONAL PARAMETERS:
// @param $login_form_header PHP file containing pre-form information
// @param $login_form_footer PHP file containing post-form information
//        

// If the skin has pre-content setup, include it here.
require_once("library/core/util-skin.php");
skin_include("block-login-form-pre.php");
?>
<div class="story-div">
<span class="story-span">
<?php
if (isset($login_form_header)) @include($login_form_header);
?>
</span>
<?php
require_once("library/core/class-form.php");
/* Step 1: Create the form object */
$login = new akForm("login-form","/login-processor.php",FORM_METHOD_POST);
/* Step 2: Create and add items */
  /* Step 2.1: State in hidden fields */
$item = new akFormItem("login-item-referrer",FORM_INPUT_HIDDEN,"referrer",$login_form_referrer);
$login->adopt($item);
$item = new akFormItem("login-item-action",FORM_INPUT_HIDDEN,"auth-action","login");
$login->adopt($item);
  /* Step 2.2: Username/password fields */
$item = new akFormItem("login-item-username",FORM_INPUT_TEXT,"username");
$item->label="Username:";
$item->hsize=20; 
$item->max_hsize=256;
$item->hint="Enter username or email address...";
$login->adopt($item);

$item = new akFormItem("login-item-password",FORM_INPUT_PASSWORD,"password");
$item->label="Password:";
$item->hsize=20; 
$item->max_hsize=256;
$item->hint="Enter password...";
$login->adopt($item);
  /* Step 2.3: Submit button */
$item = new akFormItem("login-item-submit",FORM_INPUT_SUBMIT,"submit","Log in");
$login->adopt($item);

/* Step 3: Emit the form */
$login->emit();
?>
<?php
if (isset($login_form_footer)) @include($login_form_footer);
?>
</div>
<?php
// If the skin has post-content setup, include it here.
skin_include("block-login-form-post.php");
?>
